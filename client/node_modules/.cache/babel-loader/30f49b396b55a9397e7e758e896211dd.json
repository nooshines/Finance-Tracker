{"ast":null,"code":"export function getHeaders() {\n  const header = {\n    \"Content-Type\": \"application/json\",\n    Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n  };\n  return header;\n} //get all incomes\n\nexport async function getIncomes() {\n  const res = await fetch(\"/api/incomes\", {\n    headers: getHeaders()\n  });\n\n  if (res.status > 299) {\n    return Promise.reject(\"not authorised\");\n  }\n\n  return await res.json();\n} //add income\n\nexport async function addIncome(incomeDetails) {\n  const res = await fetch(\"/api/incomes\", {\n    method: \"POST\",\n    body: JSON.stringify(incomeDetails),\n    headers: getHeaders()\n  });\n  return await res.json();\n} //update income\n\nexport const updateIncome = async (id, incomeDetails) => {\n  const res = await fetch(`/api/incomes/${id}`, {\n    method: \"PATCH\",\n    body: JSON.stringify(incomeDetails),\n    headers: getHeaders()\n  });\n  return await res.json();\n}; //delete income\n\nexport async function delIncome(id) {\n  const res = await fetch(\"/api/incomes/\" + id, {\n    method: \"DELETE\",\n    headers: getHeaders()\n  });\n  return await res.json();\n} //get all expenses\n\nexport async function getExpenses() {\n  const res = await fetch(\"/api/expenses\", {\n    headers: getHeaders()\n  });\n\n  if (res.status > 299) {\n    return Promise.reject(\"not authorised\");\n  }\n\n  return await res.json();\n} //add expense\n\nexport async function addExpense(incomeDetails) {\n  const res = await fetch(\"/api/expenses\", {\n    method: \"POST\",\n    body: JSON.stringify(incomeDetails),\n    headers: getHeaders()\n  });\n  return await res.json();\n} //update expense\n\nexport const updateExpense = async (id, expenseDetails) => {\n  const res = await fetch(`/api/expenses/${id}`, {\n    method: \"PATCH\",\n    body: JSON.stringify(expenseDetails),\n    headers: getHeaders()\n  });\n  return await res.json();\n}; //delete expense\n\nexport async function delExpense(id) {\n  const res = await fetch(\"/api/expenses/\" + id, {\n    method: \"DELETE\",\n    headers: getHeaders()\n  });\n  return await res.json();\n} //signup\n\nexport async function signup(data) {\n  try {\n    const res = await fetch(`/api/users`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    }).catch(e => {\n      console.log(\"error\", e);\n    });\n    return await res.json().catch(e => {\n      console.log(\"error\", e);\n    });\n  } catch (err) {\n    console.log(err);\n  }\n} //login\n\nexport async function login(data) {\n  const res = await fetch(`/api/auth/login`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(data)\n  });\n\n  if (res.status > 299) {\n    return Promise.reject(\"incorrect login\");\n  }\n\n  return await res.json();\n}","map":{"version":3,"sources":["/Users/nooshin/Desktop/My Projects/expense-tracker/src/api.js"],"names":["getHeaders","header","Authorization","localStorage","getItem","getIncomes","res","fetch","headers","status","Promise","reject","json","addIncome","incomeDetails","method","body","JSON","stringify","updateIncome","id","delIncome","getExpenses","addExpense","updateExpense","expenseDetails","delExpense","signup","data","catch","e","console","log","err","login"],"mappings":"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","sourcesContent":["export function getHeaders() {\n  const header = {\n    \"Content-Type\": \"application/json\",\n    Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n  };\n  return header;\n}\n\n//get all incomes\nexport async function getIncomes() {\n  const res = await fetch(\"/api/incomes\", {\n    headers: getHeaders(),\n  });\n\n  if (res.status > 299) {\n    return Promise.reject(\"not authorised\");\n  }\n\n  return await res.json();\n}\n\n//add income\nexport async function addIncome(incomeDetails) {\n  const res = await fetch(\"/api/incomes\", {\n    method: \"POST\",\n    body: JSON.stringify(incomeDetails),\n    headers: getHeaders(),\n  });\n  return await res.json();\n}\n\n//update income\nexport const updateIncome = async (id, incomeDetails) => {\n  const res = await fetch(`/api/incomes/${id}`, {\n    method: \"PATCH\",\n    body: JSON.stringify(incomeDetails),\n    headers: getHeaders(),\n  });\n  return await res.json();\n};\n\n//delete income\nexport async function delIncome(id) {\n  const res = await fetch(\"/api/incomes/\" + id, {\n    method: \"DELETE\",\n    headers: getHeaders(),\n  });\n  return await res.json();\n}\n\n//get all expenses\nexport async function getExpenses() {\n  const res = await fetch(\"/api/expenses\", {\n    headers: getHeaders(),\n  });\n\n  if (res.status > 299) {\n    return Promise.reject(\"not authorised\");\n  }\n\n  return await res.json();\n}\n\n//add expense\nexport async function addExpense(incomeDetails) {\n  const res = await fetch(\"/api/expenses\", {\n    method: \"POST\",\n    body: JSON.stringify(incomeDetails),\n    headers: getHeaders(),\n  });\n  return await res.json();\n}\n\n//update expense\nexport const updateExpense = async (id, expenseDetails) => {\n  const res = await fetch(`/api/expenses/${id}`, {\n    method: \"PATCH\",\n    body: JSON.stringify(expenseDetails),\n    headers: getHeaders(),\n  });\n  return await res.json();\n};\n\n//delete expense\nexport async function delExpense(id) {\n  const res = await fetch(\"/api/expenses/\" + id, {\n    method: \"DELETE\",\n    headers: getHeaders(),\n  });\n  return await res.json();\n}\n\n//signup\nexport async function signup(data) {\n  try {\n    const res = await fetch(`/api/users`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(data),\n    }).catch((e) => {\n      console.log(\"error\", e);\n    });\n    return await res.json().catch((e) => {\n      console.log(\"error\", e);\n    });\n  } catch (err) {\n    console.log(err);\n  }\n}\n\n//login\nexport async function login(data) {\n  const res = await fetch(`/api/auth/login`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(data),\n  });\n\n  if (res.status > 299) {\n    return Promise.reject(\"incorrect login\");\n  }\n\n  return await res.json();\n}\n"]},"metadata":{},"sourceType":"module"}