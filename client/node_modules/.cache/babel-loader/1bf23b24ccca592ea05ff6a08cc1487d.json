{"ast":null,"code":"import _regeneratorRuntime from\"/Users/nooshin/Desktop/my GA Homework/project unit4/Finance-Tracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/nooshin/Desktop/my GA Homework/project unit4/Finance-Tracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";export function getHeaders(){var header={\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))};return header;}//get all incomes\nexport function getIncomes(){return _getIncomes.apply(this,arguments);}//add income\nfunction _getIncomes(){_getIncomes=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"/api/incomes\",{headers:getHeaders()});case 2:res=_context3.sent;if(!(res.status>299)){_context3.next=5;break;}return _context3.abrupt(\"return\",Promise.reject(\"not authorised\"));case 5:_context3.next=7;return res.json();case 7:return _context3.abrupt(\"return\",_context3.sent);case 8:case\"end\":return _context3.stop();}}},_callee3);}));return _getIncomes.apply(this,arguments);}export function addIncome(_x){return _addIncome.apply(this,arguments);}//update income\nfunction _addIncome(){_addIncome=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(incomeDetails){var res;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch(\"/api/incomes\",{method:\"POST\",body:JSON.stringify(incomeDetails),headers:getHeaders()});case 2:res=_context4.sent;_context4.next=5;return res.json();case 5:return _context4.abrupt(\"return\",_context4.sent);case 6:case\"end\":return _context4.stop();}}},_callee4);}));return _addIncome.apply(this,arguments);}export var updateIncome=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id,incomeDetails){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/api/incomes/\".concat(id),{method:\"PATCH\",body:JSON.stringify(incomeDetails),headers:getHeaders()});case 2:res=_context.sent;_context.next=5;return res.json();case 5:return _context.abrupt(\"return\",_context.sent);case 6:case\"end\":return _context.stop();}}},_callee);}));return function updateIncome(_x2,_x3){return _ref.apply(this,arguments);};}();//delete income\nexport function delIncome(_x4){return _delIncome.apply(this,arguments);}//get all expenses\nfunction _delIncome(){_delIncome=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(id){var res;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return fetch(\"/api/incomes/\"+id,{method:\"DELETE\",headers:getHeaders()});case 2:res=_context5.sent;_context5.next=5;return res.json();case 5:return _context5.abrupt(\"return\",_context5.sent);case 6:case\"end\":return _context5.stop();}}},_callee5);}));return _delIncome.apply(this,arguments);}export function getExpenses(){return _getExpenses.apply(this,arguments);}//add expense\nfunction _getExpenses(){_getExpenses=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var res;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return fetch(\"/api/expenses\",{headers:getHeaders()});case 2:res=_context6.sent;if(!(res.status>299)){_context6.next=5;break;}return _context6.abrupt(\"return\",Promise.reject(\"not authorised\"));case 5:_context6.next=7;return res.json();case 7:return _context6.abrupt(\"return\",_context6.sent);case 8:case\"end\":return _context6.stop();}}},_callee6);}));return _getExpenses.apply(this,arguments);}export function addExpense(_x5){return _addExpense.apply(this,arguments);}//update expense\nfunction _addExpense(){_addExpense=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(incomeDetails){var res;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return fetch(\"/api/expenses\",{method:\"POST\",body:JSON.stringify(incomeDetails),headers:getHeaders()});case 2:res=_context7.sent;_context7.next=5;return res.json();case 5:return _context7.abrupt(\"return\",_context7.sent);case 6:case\"end\":return _context7.stop();}}},_callee7);}));return _addExpense.apply(this,arguments);}export var updateExpense=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id,expenseDetails){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"/api/expenses/\".concat(id),{method:\"PATCH\",body:JSON.stringify(expenseDetails),headers:getHeaders()});case 2:res=_context2.sent;_context2.next=5;return res.json();case 5:return _context2.abrupt(\"return\",_context2.sent);case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function updateExpense(_x6,_x7){return _ref2.apply(this,arguments);};}();//delete expense\nexport function delExpense(_x8){return _delExpense.apply(this,arguments);}//signup\nfunction _delExpense(){_delExpense=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(id){var res;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return fetch(\"/api/expenses/\"+id,{method:\"DELETE\",headers:getHeaders()});case 2:res=_context8.sent;_context8.next=5;return res.json();case 5:return _context8.abrupt(\"return\",_context8.sent);case 6:case\"end\":return _context8.stop();}}},_callee8);}));return _delExpense.apply(this,arguments);}export function signup(_x9){return _signup.apply(this,arguments);}//login\nfunction _signup(){_signup=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(data){var res;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.prev=0;_context9.next=3;return fetch(\"/api/users\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(data)}).catch(function(e){console.log(\"error\",e);});case 3:res=_context9.sent;_context9.next=6;return res.json().catch(function(e){console.log(\"error\",e);});case 6:return _context9.abrupt(\"return\",_context9.sent);case 9:_context9.prev=9;_context9.t0=_context9[\"catch\"](0);console.log(_context9.t0);case 12:case\"end\":return _context9.stop();}}},_callee9,null,[[0,9]]);}));return _signup.apply(this,arguments);}export function login(_x10){return _login.apply(this,arguments);}function _login(){_login=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(data){var res;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.next=2;return fetch(\"/api/auth/login\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(data)});case 2:res=_context10.sent;if(!(res.status>299)){_context10.next=5;break;}return _context10.abrupt(\"return\",Promise.reject(\"incorrect login\"));case 5:_context10.next=7;return res.json();case 7:return _context10.abrupt(\"return\",_context10.sent);case 8:case\"end\":return _context10.stop();}}},_callee10);}));return _login.apply(this,arguments);}","map":{"version":3,"sources":["/Users/nooshin/Desktop/my GA Homework/project unit4/Finance-Tracker/client/src/api.js"],"names":["getHeaders","header","Authorization","localStorage","getItem","getIncomes","fetch","headers","res","status","Promise","reject","json","addIncome","incomeDetails","method","body","JSON","stringify","updateIncome","id","delIncome","getExpenses","addExpense","updateExpense","expenseDetails","delExpense","signup","data","catch","e","console","log","login"],"mappings":"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","sourcesContent":["export function getHeaders() {\n  const header = {\n    \"Content-Type\": \"application/json\",\n    Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n  };\n  return header;\n}\n\n//get all incomes\nexport async function getIncomes() {\n  const res = await fetch(\"/api/incomes\", {\n    headers: getHeaders(),\n  });\n\n  if (res.status > 299) {\n    return Promise.reject(\"not authorised\");\n  }\n\n  return await res.json();\n}\n\n//add income\nexport async function addIncome(incomeDetails) {\n  const res = await fetch(\"/api/incomes\", {\n    method: \"POST\",\n    body: JSON.stringify(incomeDetails),\n    headers: getHeaders(),\n  });\n  return await res.json();\n}\n\n//update income\nexport const updateIncome = async (id, incomeDetails) => {\n  const res = await fetch(`/api/incomes/${id}`, {\n    method: \"PATCH\",\n    body: JSON.stringify(incomeDetails),\n    headers: getHeaders(),\n  });\n  return await res.json();\n};\n\n//delete income\nexport async function delIncome(id) {\n  const res = await fetch(\"/api/incomes/\" + id, {\n    method: \"DELETE\",\n    headers: getHeaders(),\n  });\n  return await res.json();\n}\n\n//get all expenses\nexport async function getExpenses() {\n  const res = await fetch(\"/api/expenses\", {\n    headers: getHeaders(),\n  });\n\n  if (res.status > 299) {\n    return Promise.reject(\"not authorised\");\n  }\n\n  return await res.json();\n}\n\n//add expense\nexport async function addExpense(incomeDetails) {\n  const res = await fetch(\"/api/expenses\", {\n    method: \"POST\",\n    body: JSON.stringify(incomeDetails),\n    headers: getHeaders(),\n  });\n  return await res.json();\n}\n\n//update expense\nexport const updateExpense = async (id, expenseDetails) => {\n  const res = await fetch(`/api/expenses/${id}`, {\n    method: \"PATCH\",\n    body: JSON.stringify(expenseDetails),\n    headers: getHeaders(),\n  });\n  return await res.json();\n};\n\n//delete expense\nexport async function delExpense(id) {\n  const res = await fetch(\"/api/expenses/\" + id, {\n    method: \"DELETE\",\n    headers: getHeaders(),\n  });\n  return await res.json();\n}\n\n//signup\nexport async function signup(data) {\n  try {\n    const res = await fetch(`/api/users`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(data),\n    }).catch((e) => {\n      console.log(\"error\", e);\n    });\n    return await res.json().catch((e) => {\n      console.log(\"error\", e);\n    });\n  } catch (err) {\n    console.log(err);\n  }\n}\n\n//login\nexport async function login(data) {\n  const res = await fetch(`/api/auth/login`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(data),\n  });\n\n  if (res.status > 299) {\n    return Promise.reject(\"incorrect login\");\n  }\n\n  return await res.json();\n}\n"]},"metadata":{},"sourceType":"module"}