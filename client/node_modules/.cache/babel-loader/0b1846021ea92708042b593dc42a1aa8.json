{"ast":null,"code":"import _regeneratorRuntime from\"/Users/nooshin/Desktop/my GA Homework/project unit4/Finance-Tracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/Users/nooshin/Desktop/my GA Homework/project unit4/Finance-Tracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"/Users/nooshin/Desktop/my GA Homework/project unit4/Finance-Tracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/nooshin/Desktop/my GA Homework/project unit4/Finance-Tracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext}from\"react\";import{BudgetContext}from\"../context/BudgetContext\";import{addIncome}from\"../api\";import{makeStyles}from\"@material-ui/core/styles\";import TextField from\"@material-ui/core/TextField\";import Button from\"@material-ui/core/Button\";var useStyles=makeStyles(function(theme){return{root:{\"& > *\":{margin:theme.spacing(1)// width: \"25ch\",\n}}};});var IncomeForm=function IncomeForm(){var classes=useStyles();var _useContext=useContext(BudgetContext),incomes=_useContext.incomes,setIncome=_useContext.setIncome;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),incomeInput=_useState2[0],setIncomeInput=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),amountInput=_useState4[0],setAmountInput=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),errorIncomeInput=_useState6[0],setErrorIncomeInput=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),errorAmountInput=_useState8[0],setErrorAmountInput=_useState8[1];var submitHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var newIncome;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(incomeInput&&amountInput)){_context.next=12;break;}_context.next=4;return addIncome({title:incomeInput,amount:amountInput});case 4:newIncome=_context.sent;setIncome([].concat(_toConsumableArray(incomes),[newIncome]));setIncomeInput(\"\");setAmountInput(\"\");setErrorIncomeInput(\"\");setErrorAmountInput(\"\");_context.next=14;break;case 12:if(!incomeInput){setErrorIncomeInput(\"Income Input is required\");}if(!amountInput){setErrorAmountInput(\"Amount Input is required\");}case 14:case\"end\":return _context.stop();}}},_callee);}));return function submitHandler(_x){return _ref.apply(this,arguments);};}();var onChangeHandler=function onChangeHandler(e){if(e.currentTarget.name===\"income\"){setIncomeInput(e.currentTarget.value);}else{setAmountInput(e.currentTarget.value);}};var onBlurHandler=function onBlurHandler(e){if(e.currentTarget.name===\"income\"){setIncomeInput(e.currentTarget.value);!e.currentTarget.value?setErrorIncomeInput(\"Income Input is required\"):setErrorIncomeInput(\"\");}else{setAmountInput(e.currentTarget.value);!e.currentTarget.value?setErrorAmountInput(\"Amount Input is required\"):setErrorAmountInput(\"\");}};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:submitHandler,className:classes.root,autoComplete:\"off\"},/*#__PURE__*/React.createElement(TextField,{id:\"outlined-size-small\",size:\"small\",error:errorIncomeInput?true:false,helperText:errorIncomeInput?errorIncomeInput:\"\",label:\"income\",variant:\"outlined\",name:\"income\",value:incomeInput,onChange:onChangeHandler,onBlur:onBlurHandler}),/*#__PURE__*/React.createElement(TextField,{id:\"outlined-size-small\",size:\"small\",error:errorAmountInput?true:false,helperText:errorAmountInput?errorAmountInput:\"\",type:\"number\",label:\"amount\",variant:\"outlined\",name:\"amount\",value:amountInput,onChange:onChangeHandler,onBlur:onBlurHandler}),/*#__PURE__*/React.createElement(Button,{type:\"submit\",variant:\"contained\"},\"Submit\")));};export default IncomeForm;","map":{"version":3,"sources":["/Users/nooshin/Desktop/my GA Homework/project unit4/Finance-Tracker/client/src/components/IncomeForm.js"],"names":["React","useState","useContext","BudgetContext","addIncome","makeStyles","TextField","Button","useStyles","theme","root","margin","spacing","IncomeForm","classes","incomes","setIncome","incomeInput","setIncomeInput","amountInput","setAmountInput","errorIncomeInput","setErrorIncomeInput","errorAmountInput","setErrorAmountInput","submitHandler","e","preventDefault","title","amount","newIncome","onChangeHandler","currentTarget","name","value","onBlurHandler"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { BudgetContext } from \"../context/BudgetContext\";\nimport { addIncome } from \"../api\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    \"& > *\": {\n      margin: theme.spacing(1),\n      // width: \"25ch\",\n    },\n  },\n}));\n\nconst IncomeForm = () => {\n  const classes = useStyles();\n\n  const { incomes, setIncome } = useContext(BudgetContext);\n  const [incomeInput, setIncomeInput] = useState(\"\");\n  const [amountInput, setAmountInput] = useState(\"\");\n  const [errorIncomeInput, setErrorIncomeInput] = useState(\"\");\n  const [errorAmountInput, setErrorAmountInput] = useState(\"\");\n\n  const submitHandler = async (e) => {\n    e.preventDefault();\n    if (incomeInput && amountInput) {\n      const newIncome = await addIncome({\n        title: incomeInput,\n        amount: amountInput,\n      });\n      setIncome([...incomes, newIncome]);\n      setIncomeInput(\"\");\n      setAmountInput(\"\");\n      setErrorIncomeInput(\"\");\n      setErrorAmountInput(\"\");\n    } else {\n      if (!incomeInput) {\n        setErrorIncomeInput(\"Income Input is required\");\n      }\n      if (!amountInput) {\n        setErrorAmountInput(\"Amount Input is required\");\n      }\n    }\n  };\n\n  const onChangeHandler = (e) => {\n    if (e.currentTarget.name === \"income\") {\n      setIncomeInput(e.currentTarget.value);\n    } else {\n      setAmountInput(e.currentTarget.value);\n    }\n  };\n\n  const onBlurHandler = (e) => {\n    if (e.currentTarget.name === \"income\") {\n      setIncomeInput(e.currentTarget.value);\n      !e.currentTarget.value\n        ? setErrorIncomeInput(\"Income Input is required\")\n        : setErrorIncomeInput(\"\");\n    } else {\n      setAmountInput(e.currentTarget.value);\n      !e.currentTarget.value\n        ? setErrorAmountInput(\"Amount Input is required\")\n        : setErrorAmountInput(\"\");\n    }\n  };\n\n  return (\n    <>\n      <form\n        onSubmit={submitHandler}\n        className={classes.root}\n        autoComplete=\"off\"\n      >\n        <TextField\n          id=\"outlined-size-small\"\n          size=\"small\"\n          error={errorIncomeInput ? true : false}\n          helperText={errorIncomeInput ? errorIncomeInput : \"\"}\n          label=\"income\"\n          variant=\"outlined\"\n          name=\"income\"\n          value={incomeInput}\n          onChange={onChangeHandler}\n          onBlur={onBlurHandler}\n        />\n        <TextField\n          id=\"outlined-size-small\"\n          size=\"small\"\n          error={errorAmountInput ? true : false}\n          helperText={errorAmountInput ? errorAmountInput : \"\"}\n          type=\"number\"\n          label=\"amount\"\n          variant=\"outlined\"\n          name=\"amount\"\n          value={amountInput}\n          onChange={onChangeHandler}\n          onBlur={onBlurHandler}\n        />\n        <Button type=\"submit\" variant=\"contained\">\n          Submit\n        </Button>\n      </form>\n    </>\n  );\n};\n\nexport default IncomeForm;\n"]},"metadata":{},"sourceType":"module"}