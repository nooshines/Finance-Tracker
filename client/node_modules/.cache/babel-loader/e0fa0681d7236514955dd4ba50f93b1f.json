{"ast":null,"code":"import _regeneratorRuntime from\"/Users/nooshin/Desktop/my GA Homework/project unit4/Finance-Tracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/Users/nooshin/Desktop/my GA Homework/project unit4/Finance-Tracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"/Users/nooshin/Desktop/my GA Homework/project unit4/Finance-Tracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/nooshin/Desktop/my GA Homework/project unit4/Finance-Tracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext}from\"react\";import{BudgetContext}from\"../context/BudgetContext\";import{addExpense}from\"../api\";import{makeStyles}from\"@material-ui/core/styles\";import TextField from\"@material-ui/core/TextField\";import Button from\"@material-ui/core/Button\";var useStyles=makeStyles(function(theme){return{root:{\"& > *\":{margin:theme.spacing(1)// width: \"25ch\",\n}}};});var ExpenseForm=function ExpenseForm(){var classes=useStyles();var _useContext=useContext(BudgetContext),expenses=_useContext.expenses,setExpense=_useContext.setExpense;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),expenseInput=_useState2[0],setExpenseInput=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),amountInput=_useState4[0],setAmountInput=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),errorExpenseInput=_useState6[0],setErrorExpenseInput=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),errorAmountInput=_useState8[0],setErrorAmountInput=_useState8[1];var submitHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var newExpense;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(expenseInput&&amountInput)){_context.next=12;break;}_context.next=4;return addExpense({title:expenseInput,amount:amountInput});case 4:newExpense=_context.sent;setExpense([].concat(_toConsumableArray(expenses),[newExpense]));setExpenseInput(\"\");setAmountInput(\"\");setErrorExpenseInput(\"\");setErrorAmountInput(\"\");_context.next=14;break;case 12:if(!expenseInput){setErrorExpenseInput(\"Expense Input is required\");}if(!amountInput){setErrorAmountInput(\"Amount Input is required\");}case 14:case\"end\":return _context.stop();}}},_callee);}));return function submitHandler(_x){return _ref.apply(this,arguments);};}();var onChangeHandler=function onChangeHandler(e){if(e.currentTarget.name===\"expense\"){setExpenseInput(e.currentTarget.value);}else{setAmountInput(e.currentTarget.value);}};var onBlurHandler=function onBlurHandler(e){if(e.currentTarget.name===\"expense\"){setExpenseInput(e.currentTarget.value);!e.currentTarget.value?setErrorExpenseInput(\"Expense Input is required\"):setErrorExpenseInput(\"\");}else{setAmountInput(e.currentTarget.value);!e.currentTarget.value?setErrorAmountInput(\"Amount Input is required\"):setErrorAmountInput(\"\");}};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:submitHandler,className:classes.root,autoComplete:\"off\"},/*#__PURE__*/React.createElement(TextField,{id:\"outlined-size-small\",size:\"small\",error:errorExpenseInput?true:false,helperText:errorExpenseInput?errorExpenseInput:\"\",label:\"expense\",variant:\"outlined\",name:\"expense\",value:expenseInput,onChange:onChangeHandler,onBlur:onBlurHandler}),/*#__PURE__*/React.createElement(TextField,{id:\"outlined-size-small\",size:\"small\",error:errorAmountInput?true:false,helperText:errorAmountInput?errorAmountInput:\"\",type:\"number\",label:\"amount\",variant:\"outlined\",name:\"amount\",value:amountInput,onChange:onChangeHandler,onBlur:onBlurHandler}),/*#__PURE__*/React.createElement(Button,{type:\"submit\",variant:\"contained\"},\"Submit\")));};export default ExpenseForm;","map":{"version":3,"sources":["/Users/nooshin/Desktop/my GA Homework/project unit4/Finance-Tracker/client/src/components/ExpenseForm.js"],"names":["React","useState","useContext","BudgetContext","addExpense","makeStyles","TextField","Button","useStyles","theme","root","margin","spacing","ExpenseForm","classes","expenses","setExpense","expenseInput","setExpenseInput","amountInput","setAmountInput","errorExpenseInput","setErrorExpenseInput","errorAmountInput","setErrorAmountInput","submitHandler","e","preventDefault","title","amount","newExpense","onChangeHandler","currentTarget","name","value","onBlurHandler"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { BudgetContext } from \"../context/BudgetContext\";\nimport { addExpense } from \"../api\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    \"& > *\": {\n      margin: theme.spacing(1),\n      // width: \"25ch\",\n    },\n  },\n}));\n\nconst ExpenseForm = () => {\n  const classes = useStyles();\n\n  const { expenses, setExpense } = useContext(BudgetContext);\n  const [expenseInput, setExpenseInput] = useState(\"\");\n  const [amountInput, setAmountInput] = useState(\"\");\n  const [errorExpenseInput, setErrorExpenseInput] = useState(\"\");\n  const [errorAmountInput, setErrorAmountInput] = useState(\"\");\n\n  const submitHandler = async (e) => {\n    e.preventDefault();\n    if (expenseInput && amountInput) {\n      const newExpense = await addExpense({\n        title: expenseInput,\n        amount: amountInput,\n      });\n      setExpense([...expenses, newExpense]);\n      setExpenseInput(\"\");\n      setAmountInput(\"\");\n      setErrorExpenseInput(\"\");\n      setErrorAmountInput(\"\");\n    } else {\n      if (!expenseInput) {\n        setErrorExpenseInput(\"Expense Input is required\");\n      }\n      if (!amountInput) {\n        setErrorAmountInput(\"Amount Input is required\");\n      }\n    }\n  };\n\n  const onChangeHandler = (e) => {\n    if (e.currentTarget.name === \"expense\") {\n      setExpenseInput(e.currentTarget.value);\n    } else {\n      setAmountInput(e.currentTarget.value);\n    }\n  };\n\n  const onBlurHandler = (e) => {\n    if (e.currentTarget.name === \"expense\") {\n      setExpenseInput(e.currentTarget.value);\n      !e.currentTarget.value\n        ? setErrorExpenseInput(\"Expense Input is required\")\n        : setErrorExpenseInput(\"\");\n    } else {\n      setAmountInput(e.currentTarget.value);\n      !e.currentTarget.value\n        ? setErrorAmountInput(\"Amount Input is required\")\n        : setErrorAmountInput(\"\");\n    }\n  };\n\n  return (\n    <>\n      <form\n        onSubmit={submitHandler}\n        className={classes.root}\n        autoComplete=\"off\"\n      >\n        <TextField\n          id=\"outlined-size-small\"\n          size=\"small\"\n          error={errorExpenseInput ? true : false}\n          helperText={errorExpenseInput ? errorExpenseInput : \"\"}\n          label=\"expense\"\n          variant=\"outlined\"\n          name=\"expense\"\n          value={expenseInput}\n          onChange={onChangeHandler}\n          onBlur={onBlurHandler}\n        />\n\n        <TextField\n          id=\"outlined-size-small\"\n          size=\"small\"\n          error={errorAmountInput ? true : false}\n          helperText={errorAmountInput ? errorAmountInput : \"\"}\n          type=\"number\"\n          label=\"amount\"\n          variant=\"outlined\"\n          name=\"amount\"\n          value={amountInput}\n          onChange={onChangeHandler}\n          onBlur={onBlurHandler}\n        />\n        <Button type=\"submit\" variant=\"contained\">\n          Submit\n        </Button>\n      </form>\n    </>\n  );\n};\n\nexport default ExpenseForm;\n"]},"metadata":{},"sourceType":"module"}