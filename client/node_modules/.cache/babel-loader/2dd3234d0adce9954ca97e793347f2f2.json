{"ast":null,"code":"import _regeneratorRuntime from\"/Users/nooshin/Desktop/my GA Homework/project unit4/Finance-Tracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/nooshin/Desktop/my GA Homework/project unit4/Finance-Tracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"/Users/nooshin/Desktop/my GA Homework/project unit4/Finance-Tracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/nooshin/Desktop/my GA Homework/project unit4/Finance-Tracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{signup}from\"../api\";import{Link}from\"react-router-dom\";import{makeStyles}from\"@material-ui/core/styles\";import Alert from\"@material-ui/lab/Alert\";var useStyles=makeStyles(function(theme){return{root:{width:\"100%\",\"& > * + *\":{marginTop:theme.spacing(2)}}};});var SignUp=function SignUp(){var classes=useStyles();var _useState=useState({name:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),open=_useState4[0],setOpen=_useState4[1];var _useState5=useState(\"info\"),_useState6=_slicedToArray(_useState5,2),severity=_useState6[0],setSeverity=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),msg=_useState8[0],setMsg=_useState8[1];var onChange=function onChange(e){var name=e.currentTarget.name;var obj=_objectSpread({},formData);obj[name]=e.currentTarget.value;setFormData(obj);};var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"formDta\",formData);e.preventDefault();_context.next=4;return signup({user:formData}).catch(function(err){console.log(\"errors\",err);});case 4:user=_context.sent;console.log(\"user\",user);setFormData({name:\"\",password:\"\"});if(user.errors){setOpen(true);setSeverity(\"error\");setMsg(\"User already exist!\");}else if(user.id){setOpen(true);setSeverity(\"info\");setMsg(\" User Successfully created, Please Login !\");}case 8:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"form-container\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Register\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:onSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"name\"},\"Name\"),/*#__PURE__*/React.createElement(\"input\",{value:formData.name,id:\"name\",type:\"name\",name:\"name\",onChange:onChange,required:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{value:formData.password,id:\"password\",type:\"password\",name:\"password\",onChange:onChange,required:true,minLength:\"6\"})),/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"Register\",className:\"btn btn-primary btn-block\"}),open&&/*#__PURE__*/React.createElement(Alert,{severity:severity},msg)),/*#__PURE__*/React.createElement(\"span\",null,\"Have an acount?\"),/*#__PURE__*/React.createElement(Link,{to:\"/login\"},\"Login\")));};export default SignUp;","map":{"version":3,"sources":["/Users/nooshin/Desktop/my GA Homework/project unit4/Finance-Tracker/client/src/components/SignUp.js"],"names":["React","useState","signup","Link","makeStyles","Alert","useStyles","theme","root","width","marginTop","spacing","SignUp","classes","name","password","formData","setFormData","open","setOpen","severity","setSeverity","msg","setMsg","onChange","e","currentTarget","obj","value","onSubmit","console","log","preventDefault","user","catch","err","errors","id"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { signup } from \"../api\";\nimport { Link } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Alert from \"@material-ui/lab/Alert\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    \"& > * + *\": {\n      marginTop: theme.spacing(2),\n    },\n  },\n}));\n\nconst SignUp = () => {\n  const classes = useStyles();\n\n  const [formData, setFormData] = useState({ name: \"\", password: \"\" });\n  const [open, setOpen] = useState(false);\n  const [severity, setSeverity] = useState(\"info\");\n  const [msg, setMsg] = useState(\"\");\n\n  const onChange = (e) => {\n    const name = e.currentTarget.name;\n    let obj = { ...formData };\n    obj[name] = e.currentTarget.value;\n    setFormData(obj);\n  };\n\n  const onSubmit = async (e) => {\n    console.log(\"formDta\", formData);\n    e.preventDefault();\n    const user = await signup({ user: formData }).catch((err) => {\n      console.log(\"errors\", err);\n    });\n    console.log(\"user\", user);\n\n    setFormData({ name: \"\", password: \"\" });\n    if (user.errors) {\n      setOpen(true);\n      setSeverity(\"error\");\n      setMsg(\"User already exist!\");\n    } else if (user.id) {\n      setOpen(true);\n      setSeverity(\"info\");\n      setMsg(\" User Successfully created, Please Login !\");\n    }\n  };\n\n  return (\n    <>\n      <div className=\"form-container\">\n        <h1>Register</h1>\n        <form onSubmit={onSubmit}>\n          <div className=\"form-group\">\n            <label htmlFor=\"name\">Name</label>\n            <input\n              value={formData.name}\n              id=\"name\"\n              type=\"name\"\n              name=\"name\"\n              onChange={onChange}\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"password\">Password</label>\n            <input\n              value={formData.password}\n              id=\"password\"\n              type=\"password\"\n              name=\"password\"\n              onChange={onChange}\n              required\n              minLength=\"6\"\n            />\n          </div>\n          <input\n            type=\"submit\"\n            value=\"Register\"\n            className=\"btn btn-primary btn-block\"\n          />\n          {open && <Alert severity={severity}>{msg}</Alert>}\n        </form>\n        <span>Have an acount?</span>\n        <Link to=\"/login\">Login</Link>\n      </div>\n    </>\n  );\n};\n\nexport default SignUp;\n"]},"metadata":{},"sourceType":"module"}