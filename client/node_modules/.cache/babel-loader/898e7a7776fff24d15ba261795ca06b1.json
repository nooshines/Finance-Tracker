{"ast":null,"code":"import _objectSpread from\"/Users/nooshin/Desktop/my GA Homework/project unit4/Finance-Tracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/nooshin/Desktop/my GA Homework/project unit4/Finance-Tracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useHistory}from\"react-router-dom\";import{login}from\"../api\";var Login=function Login(_ref){var setLoggedIn=_ref.setLoggedIn,setUser=_ref.setUser;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var history=useHistory();var onChangeHandler=function onChangeHandler(e){var name=e.currentTarget.name;var obj=_objectSpread({},formData);obj[name]=e.currentTarget.value;setFormData(obj);};var handleSubmit=function handleSubmit(e){e.preventDefault();console.log(\"submitted\");login(formData).then(function(result){console.log(\"loggedin\",result);localStorage.setItem(\"token\",result.user.token);setLoggedIn(true);setUser(result.user);history.push(\"/home\");}).catch(function(e){console.log(\"error\",e);});};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"form-container\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Login\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"name\"},\"UserName\"),/*#__PURE__*/React.createElement(\"input\",{id:\"name\",type:\"name\",name:\"name\",onChange:onChangeHandler,required:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{id:\"password\",type:\"password\",name:\"password\",onChange:onChangeHandler,required:true,minLength:\"6\"})),/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"submit\",className:\"btn btn-primary btn-block\"}))));};export default Login;","map":{"version":3,"sources":["/Users/nooshin/Desktop/my GA Homework/project unit4/Finance-Tracker/client/src/components/Login.js"],"names":["React","useState","useHistory","login","Login","setLoggedIn","setUser","formData","setFormData","history","onChangeHandler","e","name","currentTarget","obj","value","handleSubmit","preventDefault","console","log","then","result","localStorage","setItem","user","token","push","catch"],"mappings":"iYAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,KAAT,KAAsB,QAAtB,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,MAA8B,IAA3BC,CAAAA,WAA2B,MAA3BA,WAA2B,CAAdC,OAAc,MAAdA,OAAc,eACVL,QAAQ,CAAC,EAAD,CADE,wCACnCM,QADmC,eACzBC,WADyB,eAE1C,GAAMC,CAAAA,OAAO,CAAGP,UAAU,EAA1B,CAEA,GAAMQ,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,CAAD,CAAO,CAC7B,GAAMC,CAAAA,IAAI,CAAGD,CAAC,CAACE,aAAF,CAAgBD,IAA7B,CACA,GAAIE,CAAAA,GAAG,kBAAQP,QAAR,CAAP,CACAO,GAAG,CAACF,IAAD,CAAH,CAAYD,CAAC,CAACE,aAAF,CAAgBE,KAA5B,CACAP,WAAW,CAACM,GAAD,CAAX,CACD,CALD,CAOA,GAAME,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACL,CAAD,CAAO,CAC1BA,CAAC,CAACM,cAAF,GACAC,OAAO,CAACC,GAAR,CAAY,WAAZ,EACAhB,KAAK,CAACI,QAAD,CAAL,CACGa,IADH,CACQ,SAACC,MAAD,CAAY,CAChBH,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwBE,MAAxB,EACAC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BF,MAAM,CAACG,IAAP,CAAYC,KAA1C,EACApB,WAAW,CAAC,IAAD,CAAX,CACAC,OAAO,CAACe,MAAM,CAACG,IAAR,CAAP,CACAf,OAAO,CAACiB,IAAR,CAAa,OAAb,EACD,CAPH,EAQGC,KARH,CAQS,SAAChB,CAAD,CAAO,CACZO,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBR,CAArB,EACD,CAVH,EAWD,CAdD,CAgBA,mBACE,qDACE,2BAAK,SAAS,CAAC,gBAAf,eACE,sCADF,cAEE,4BAAM,QAAQ,CAAEK,YAAhB,eACE,2BAAK,SAAS,CAAC,YAAf,eACE,6BAAO,OAAO,CAAC,MAAf,aADF,cAEE,6BACE,EAAE,CAAC,MADL,CAEE,IAAI,CAAC,MAFP,CAGE,IAAI,CAAC,MAHP,CAIE,QAAQ,CAAEN,eAJZ,CAKE,QAAQ,KALV,EAFF,CADF,cAWE,2BAAK,SAAS,CAAC,YAAf,eACE,6BAAO,OAAO,CAAC,UAAf,aADF,cAEE,6BACE,EAAE,CAAC,UADL,CAEE,IAAI,CAAC,UAFP,CAGE,IAAI,CAAC,UAHP,CAIE,QAAQ,CAAEA,eAJZ,CAKE,QAAQ,KALV,CAME,SAAS,CAAC,GANZ,EAFF,CAXF,cAsBE,6BACE,IAAI,CAAC,QADP,CAEE,KAAK,CAAC,QAFR,CAGE,SAAS,CAAC,2BAHZ,EAtBF,CAFF,CADF,CADF,CAmCD,CA9DD,CAgEA,cAAeN,CAAAA,KAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { login } from \"../api\";\n\nconst Login = ({ setLoggedIn, setUser }) => {\n  const [formData, setFormData] = useState({});\n  const history = useHistory();\n\n  const onChangeHandler = (e) => {\n    const name = e.currentTarget.name;\n    let obj = { ...formData };\n    obj[name] = e.currentTarget.value;\n    setFormData(obj);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    console.log(\"submitted\");\n    login(formData)\n      .then((result) => {\n        console.log(\"loggedin\", result);\n        localStorage.setItem(\"token\", result.user.token);\n        setLoggedIn(true);\n        setUser(result.user);\n        history.push(\"/home\");\n      })\n      .catch((e) => {\n        console.log(\"error\", e);\n      });\n  };\n\n  return (\n    <>\n      <div className=\"form-container\">\n        <h1>Login</h1>\n        <form onSubmit={handleSubmit}>\n          <div className=\"form-group\">\n            <label htmlFor=\"name\">UserName</label>\n            <input\n              id=\"name\"\n              type=\"name\"\n              name=\"name\"\n              onChange={onChangeHandler}\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"password\">Password</label>\n            <input\n              id=\"password\"\n              type=\"password\"\n              name=\"password\"\n              onChange={onChangeHandler}\n              required\n              minLength=\"6\"\n            />\n          </div>\n          <input\n            type=\"submit\"\n            value=\"submit\"\n            className=\"btn btn-primary btn-block\"\n          />\n        </form>\n      </div>\n    </>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}